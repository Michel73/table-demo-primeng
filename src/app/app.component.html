<div style="text-align:center">
  <h1>
    Welcome to {{ title }}!
  </h1>
</div>
<p-table #dt sortMode="multiple" [multiSortMeta]="multiSortMeta" [value]="users" [paginator]="true" [rows]="90"
  [scrollable]="true" scrollHeight="70vh" [lazy]="true" [totalRecords]="1000" [loading]="loading"
  (onLazyLoad)="loadLazy($event)" (onColReorder)="colReorder($event)" dataKey="id" [columns]="columns"
  [expandedRowKeys]="expandedRows" [reorderableColumns]="true">
  <ng-template pTemplate="caption">
    <div style="text-align: center">
      <i class="fa fa-search" style="margin:4px 4px 0 0"></i>
      <input type="text" pInputText size="50" placeholder="Global Filter"
        (input)="dt.filterGlobal($event.target.value, 'contains')" style="width:auto">
    </div>
  </ng-template>
  <ng-template pTemplate="header">
    <tr>
      <th style="width: 3em"></th>
      <th *ngFor="let col of columns" [pSortableColumn]="col.field" pReorderableColumn>
        {{col.header}}
        <p-sortIcon [field]="col.field"></p-sortIcon>
      </th>
    </tr>
    <tr>
      <th style="width: 3em"></th>
      <th *ngFor="let col of columns">
        <input pInputText type="text" (input)="dt.filter($event.target.value, col.field, 'contains')">
      </th>
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-user let-expanded="expanded" let-columns="columns">
    <tr>
      <td style="width: 3em">
        <a href="#" [pRowToggler]="user">
          <i [ngClass]="expanded ? 'pi pi-chevron-down' : 'pi pi-chevron-right'"></i>
        </a>
      </td>
      <td *ngFor="let col of columns">
        {{user[col.field]}}
      </td>
    </tr>
  </ng-template>
  <ng-template pTemplate="rowexpansion" let-user let-columns="columns">
    <tr>
      <td [attr.colspan]="columns.length + 2">
        <div class="ui-g ui-fluid" style="font-size:16px;padding:20px">
          <div class="ui-g-12 ui-md-9">
            <div class="ui-g">
              <div class="ui-g-12">
                <b>Id:</b> {{user.id}}
              </div>
              <div class="ui-g-12">
                <b>Firstname:</b> {{user.firstName}}
              </div>
              <div class="ui-g-12">
                <b>Lastname:</b> {{user.lastName}}
              </div>
              <div class="ui-g-12">
                <b>Email:</b> {{user.email}}
              </div>
              <div class="ui-g-12">
                <b>Spitzname:</b> {{user.spitzname}}
              </div>
            </div>
          </div>
        </div>
      </td>
    </tr>
  </ng-template>
</p-table>
